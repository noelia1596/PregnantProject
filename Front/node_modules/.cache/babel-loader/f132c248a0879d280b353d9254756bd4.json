{"ast":null,"code":"import _regeneratorRuntime from \"C:\\\\Users\\\\Noelia\\\\Desktop\\\\Plantillas\\\\source\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"C:\\\\Users\\\\Noelia\\\\Desktop\\\\Plantillas\\\\source\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\n\nvar _marked =\n/*#__PURE__*/\n_regeneratorRuntime.mark(createUserWithEmailPassword),\n    _marked2 =\n/*#__PURE__*/\n_regeneratorRuntime.mark(signInUserWithEmailPassword),\n    _marked3 =\n/*#__PURE__*/\n_regeneratorRuntime.mark(signOut),\n    _marked4 =\n/*#__PURE__*/\n_regeneratorRuntime.mark(createUserAccount),\n    _marked5 =\n/*#__PURE__*/\n_regeneratorRuntime.mark(signInWithGoogle),\n    _marked6 =\n/*#__PURE__*/\n_regeneratorRuntime.mark(signInWithFacebook),\n    _marked7 =\n/*#__PURE__*/\n_regeneratorRuntime.mark(signInWithTwitter),\n    _marked8 =\n/*#__PURE__*/\n_regeneratorRuntime.mark(signInWithGithub),\n    _marked9 =\n/*#__PURE__*/\n_regeneratorRuntime.mark(signInUser),\n    _marked10 =\n/*#__PURE__*/\n_regeneratorRuntime.mark(signOutUser),\n    _marked11 =\n/*#__PURE__*/\n_regeneratorRuntime.mark(rootSaga);\n\nimport { all, call, fork, put, takeEvery } from \"redux-saga/effects\";\nimport { auth, facebookAuthProvider, githubAuthProvider, googleAuthProvider, twitterAuthProvider } from \"../firebase/firebase\";\nimport { SIGNIN_FACEBOOK_USER, SIGNIN_GITHUB_USER, SIGNIN_GOOGLE_USER, SIGNIN_TWITTER_USER, SIGNIN_USER, SIGNOUT_USER, SIGNUP_USER } from \"constants/ActionTypes\";\nimport { showAuthMessage, userSignInSuccess, userSignOutSuccess, userSignUpSuccess } from \"actions/Auth\";\nimport { userFacebookSignInSuccess, userGithubSignInSuccess, userGoogleSignInSuccess, userTwitterSignInSuccess } from \"../actions/Auth\";\n\nvar createUserWithEmailPasswordRequest =\n/*#__PURE__*/\nfunction () {\n  var _ref = _asyncToGenerator(\n  /*#__PURE__*/\n  _regeneratorRuntime.mark(function _callee(email, password) {\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return auth.createUserWithEmailAndPassword(email, password).then(function (authUser) {\n              return authUser;\n            }).catch(function (error) {\n              return error;\n            });\n\n          case 2:\n            return _context.abrupt(\"return\", _context.sent);\n\n          case 3:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function createUserWithEmailPasswordRequest(_x, _x2) {\n    return _ref.apply(this, arguments);\n  };\n}();\n\nvar signInUserWithEmailPasswordRequest =\n/*#__PURE__*/\nfunction () {\n  var _ref2 = _asyncToGenerator(\n  /*#__PURE__*/\n  _regeneratorRuntime.mark(function _callee2(email, password) {\n    return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.next = 2;\n            return auth.signInWithEmailAndPassword(email, password).then(function (authUser) {\n              return authUser;\n            }).catch(function (error) {\n              return error;\n            });\n\n          case 2:\n            return _context2.abrupt(\"return\", _context2.sent);\n\n          case 3:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  }));\n\n  return function signInUserWithEmailPasswordRequest(_x3, _x4) {\n    return _ref2.apply(this, arguments);\n  };\n}();\n\nvar signOutRequest =\n/*#__PURE__*/\nfunction () {\n  var _ref3 = _asyncToGenerator(\n  /*#__PURE__*/\n  _regeneratorRuntime.mark(function _callee3() {\n    return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            _context3.next = 2;\n            return auth.signOut().then(function (authUser) {\n              return authUser;\n            }).catch(function (error) {\n              return error;\n            });\n\n          case 2:\n            return _context3.abrupt(\"return\", _context3.sent);\n\n          case 3:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, _callee3);\n  }));\n\n  return function signOutRequest() {\n    return _ref3.apply(this, arguments);\n  };\n}(); //creamos wl usuario utilizando usuario y password\n\n\nfunction createUserWithEmailPassword(_ref4) {\n  var payload, email, password, signUpUser;\n  return _regeneratorRuntime.wrap(function createUserWithEmailPassword$(_context4) {\n    while (1) {\n      switch (_context4.prev = _context4.next) {\n        case 0:\n          payload = _ref4.payload;\n          email = payload.email, password = payload.password;\n          _context4.prev = 2;\n          _context4.next = 5;\n          return call(createUserWithEmailPasswordRequest, email, password);\n\n        case 5:\n          signUpUser = _context4.sent;\n\n          if (!signUpUser.message) {\n            _context4.next = 11;\n            break;\n          }\n\n          _context4.next = 9;\n          return put(showAuthMessage(signUpUser.message));\n\n        case 9:\n          _context4.next = 14;\n          break;\n\n        case 11:\n          localStorage.setItem('user_id', signUpUser.user.uid);\n          _context4.next = 14;\n          return put(userSignUpSuccess(signUpUser.user.uid));\n\n        case 14:\n          _context4.next = 20;\n          break;\n\n        case 16:\n          _context4.prev = 16;\n          _context4.t0 = _context4[\"catch\"](2);\n          _context4.next = 20;\n          return put(showAuthMessage(_context4.t0));\n\n        case 20:\n        case \"end\":\n          return _context4.stop();\n      }\n    }\n  }, _marked, null, [[2, 16]]);\n} //cargamos con usuario y password\n\n\nfunction signInUserWithEmailPassword(_ref5) {\n  var payload, email, password, _signInUser;\n\n  return _regeneratorRuntime.wrap(function signInUserWithEmailPassword$(_context5) {\n    while (1) {\n      switch (_context5.prev = _context5.next) {\n        case 0:\n          payload = _ref5.payload;\n          email = payload.email, password = payload.password;\n          _context5.prev = 2;\n          _context5.next = 5;\n          return call(signInUserWithEmailPasswordRequest, email, password);\n\n        case 5:\n          _signInUser = _context5.sent;\n\n          if (!_signInUser.message) {\n            _context5.next = 11;\n            break;\n          }\n\n          _context5.next = 9;\n          return put(showAuthMessage(_signInUser.message));\n\n        case 9:\n          _context5.next = 14;\n          break;\n\n        case 11:\n          localStorage.setItem('user_id', _signInUser.user.uid);\n          _context5.next = 14;\n          return put(userSignInSuccess(_signInUser.user.uid));\n\n        case 14:\n          _context5.next = 20;\n          break;\n\n        case 16:\n          _context5.prev = 16;\n          _context5.t0 = _context5[\"catch\"](2);\n          _context5.next = 20;\n          return put(showAuthMessage(_context5.t0));\n\n        case 20:\n        case \"end\":\n          return _context5.stop();\n      }\n    }\n  }, _marked2, null, [[2, 16]]);\n} //para salirnos, que lo tenemos en el menu en la parte de profile\n\n\nfunction signOut() {\n  var _signOutUser;\n\n  return _regeneratorRuntime.wrap(function signOut$(_context6) {\n    while (1) {\n      switch (_context6.prev = _context6.next) {\n        case 0:\n          _context6.prev = 0;\n          _context6.next = 3;\n          return call(signOutRequest);\n\n        case 3:\n          _signOutUser = _context6.sent;\n\n          if (!(_signOutUser === undefined)) {\n            _context6.next = 10;\n            break;\n          }\n\n          localStorage.removeItem('user_id');\n          _context6.next = 8;\n          return put(userSignOutSuccess(_signOutUser));\n\n        case 8:\n          _context6.next = 12;\n          break;\n\n        case 10:\n          _context6.next = 12;\n          return put(showAuthMessage(_signOutUser.message));\n\n        case 12:\n          _context6.next = 18;\n          break;\n\n        case 14:\n          _context6.prev = 14;\n          _context6.t0 = _context6[\"catch\"](0);\n          _context6.next = 18;\n          return put(showAuthMessage(_context6.t0));\n\n        case 18:\n        case \"end\":\n          return _context6.stop();\n      }\n    }\n  }, _marked3, null, [[0, 14]]);\n}\n\nexport function createUserAccount() {\n  return _regeneratorRuntime.wrap(function createUserAccount$(_context7) {\n    while (1) {\n      switch (_context7.prev = _context7.next) {\n        case 0:\n          _context7.next = 2;\n          return takeEvery(SIGNUP_USER, createUserWithEmailPassword);\n\n        case 2:\n        case \"end\":\n          return _context7.stop();\n      }\n    }\n  }, _marked4);\n}\nexport function signInWithGoogle() {\n  return _regeneratorRuntime.wrap(function signInWithGoogle$(_context8) {\n    while (1) {\n      switch (_context8.prev = _context8.next) {\n        case 0:\n          _context8.next = 2;\n          return takeEvery(SIGNIN_GOOGLE_USER, signInUserWithGoogle);\n\n        case 2:\n        case \"end\":\n          return _context8.stop();\n      }\n    }\n  }, _marked5);\n}\nexport function signInWithFacebook() {\n  return _regeneratorRuntime.wrap(function signInWithFacebook$(_context9) {\n    while (1) {\n      switch (_context9.prev = _context9.next) {\n        case 0:\n          _context9.next = 2;\n          return takeEvery(SIGNIN_FACEBOOK_USER, signInUserWithFacebook);\n\n        case 2:\n        case \"end\":\n          return _context9.stop();\n      }\n    }\n  }, _marked6);\n}\nexport function signInWithTwitter() {\n  return _regeneratorRuntime.wrap(function signInWithTwitter$(_context10) {\n    while (1) {\n      switch (_context10.prev = _context10.next) {\n        case 0:\n          _context10.next = 2;\n          return takeEvery(SIGNIN_TWITTER_USER, signInUserWithTwitter);\n\n        case 2:\n        case \"end\":\n          return _context10.stop();\n      }\n    }\n  }, _marked7);\n}\nexport function signInWithGithub() {\n  return _regeneratorRuntime.wrap(function signInWithGithub$(_context11) {\n    while (1) {\n      switch (_context11.prev = _context11.next) {\n        case 0:\n          _context11.next = 2;\n          return takeEvery(SIGNIN_GITHUB_USER, signInUserWithGithub);\n\n        case 2:\n        case \"end\":\n          return _context11.stop();\n      }\n    }\n  }, _marked8);\n}\nexport function signInUser() {\n  return _regeneratorRuntime.wrap(function signInUser$(_context12) {\n    while (1) {\n      switch (_context12.prev = _context12.next) {\n        case 0:\n          _context12.next = 2;\n          return takeEvery(SIGNIN_USER, signInUserWithEmailPassword);\n\n        case 2:\n        case \"end\":\n          return _context12.stop();\n      }\n    }\n  }, _marked9);\n}\nexport function signOutUser() {\n  return _regeneratorRuntime.wrap(function signOutUser$(_context13) {\n    while (1) {\n      switch (_context13.prev = _context13.next) {\n        case 0:\n          _context13.next = 2;\n          return takeEvery(SIGNOUT_USER, signOut);\n\n        case 2:\n        case \"end\":\n          return _context13.stop();\n      }\n    }\n  }, _marked10);\n}\nexport default function rootSaga() {\n  return _regeneratorRuntime.wrap(function rootSaga$(_context14) {\n    while (1) {\n      switch (_context14.prev = _context14.next) {\n        case 0:\n          _context14.next = 2;\n          return all([fork(signInUser), fork(createUserAccount), fork(signInWithGoogle), fork(signInWithFacebook), fork(signInWithTwitter), fork(signInWithGithub), fork(signOutUser)]);\n\n        case 2:\n        case \"end\":\n          return _context14.stop();\n      }\n    }\n  }, _marked11);\n}","map":{"version":3,"sources":["C:\\Users\\Noelia\\Desktop\\Plantillas\\source\\src\\sagas\\Auth.js"],"names":["createUserWithEmailPassword","signInUserWithEmailPassword","signOut","createUserAccount","signInWithGoogle","signInWithFacebook","signInWithTwitter","signInWithGithub","signInUser","signOutUser","rootSaga","all","call","fork","put","takeEvery","auth","facebookAuthProvider","githubAuthProvider","googleAuthProvider","twitterAuthProvider","SIGNIN_FACEBOOK_USER","SIGNIN_GITHUB_USER","SIGNIN_GOOGLE_USER","SIGNIN_TWITTER_USER","SIGNIN_USER","SIGNOUT_USER","SIGNUP_USER","showAuthMessage","userSignInSuccess","userSignOutSuccess","userSignUpSuccess","userFacebookSignInSuccess","userGithubSignInSuccess","userGoogleSignInSuccess","userTwitterSignInSuccess","createUserWithEmailPasswordRequest","email","password","createUserWithEmailAndPassword","then","authUser","catch","error","signInUserWithEmailPasswordRequest","signInWithEmailAndPassword","signOutRequest","payload","signUpUser","message","localStorage","setItem","user","uid","undefined","removeItem","signInUserWithGoogle","signInUserWithFacebook","signInUserWithTwitter","signInUserWithGithub"],"mappings":"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","sourcesContent":["import {all, call, fork, put, takeEvery} from \"redux-saga/effects\";\r\nimport {\r\n  auth,\r\n  facebookAuthProvider,\r\n  githubAuthProvider,\r\n  googleAuthProvider,\r\n  twitterAuthProvider\r\n} from \"../firebase/firebase\";\r\nimport {\r\n  SIGNIN_FACEBOOK_USER,\r\n  SIGNIN_GITHUB_USER,\r\n  SIGNIN_GOOGLE_USER,\r\n  SIGNIN_TWITTER_USER,\r\n  SIGNIN_USER,\r\n  SIGNOUT_USER,\r\n  SIGNUP_USER\r\n} from \"constants/ActionTypes\";\r\nimport {showAuthMessage, userSignInSuccess, userSignOutSuccess, userSignUpSuccess} from \"actions/Auth\";\r\nimport {\r\n  userFacebookSignInSuccess,\r\n  userGithubSignInSuccess,\r\n  userGoogleSignInSuccess,\r\n  userTwitterSignInSuccess\r\n} from \"../actions/Auth\";\r\n\r\nconst createUserWithEmailPasswordRequest = async (email, password) =>\r\n  await  auth.createUserWithEmailAndPassword(email, password)\r\n    .then(authUser => authUser)\r\n    .catch(error => error);\r\n\r\nconst signInUserWithEmailPasswordRequest = async (email, password) =>\r\n  await  auth.signInWithEmailAndPassword(email, password)\r\n    .then(authUser => authUser)\r\n    .catch(error => error);\r\n\r\nconst signOutRequest = async () =>\r\n  await  auth.signOut()\r\n    .then(authUser => authUser)\r\n    .catch(error => error);\r\n\r\n\r\n//creamos wl usuario utilizando usuario y password\r\n\r\nfunction* createUserWithEmailPassword({payload}) {\r\n  const {email, password} = payload;\r\n  try {\r\n    const signUpUser = yield call(createUserWithEmailPasswordRequest, email, password);\r\n    if (signUpUser.message) {\r\n      yield put(showAuthMessage(signUpUser.message));\r\n    } else {\r\n      localStorage.setItem('user_id', signUpUser.user.uid);\r\n      yield put(userSignUpSuccess(signUpUser.user.uid));\r\n    }\r\n  } catch (error) {\r\n    yield put(showAuthMessage(error));\r\n  }\r\n}\r\n\r\n\r\n\r\n//cargamos con usuario y password\r\n\r\nfunction* signInUserWithEmailPassword({payload}) {\r\n  const {email, password} = payload;\r\n  try {\r\n    const signInUser = yield call(signInUserWithEmailPasswordRequest, email, password);\r\n    if (signInUser.message) {\r\n      yield put(showAuthMessage(signInUser.message));\r\n    } else {\r\n      localStorage.setItem('user_id', signInUser.user.uid);\r\n      yield put(userSignInSuccess(signInUser.user.uid));\r\n    }\r\n  } catch (error) {\r\n    yield put(showAuthMessage(error));\r\n  }\r\n}\r\n\r\n\r\n//para salirnos, que lo tenemos en el menu en la parte de profile\r\nfunction* signOut() {\r\n  try {\r\n    const signOutUser = yield call(signOutRequest);\r\n    if (signOutUser === undefined) {\r\n      localStorage.removeItem('user_id');\r\n      yield put(userSignOutSuccess(signOutUser));\r\n    } else {\r\n      yield put(showAuthMessage(signOutUser.message));\r\n    }\r\n  } catch (error) {\r\n    yield put(showAuthMessage(error));\r\n  }\r\n}\r\n\r\nexport function* createUserAccount() {\r\n  yield takeEvery(SIGNUP_USER, createUserWithEmailPassword);\r\n}\r\n\r\nexport function* signInWithGoogle() {\r\n  yield takeEvery(SIGNIN_GOOGLE_USER, signInUserWithGoogle);\r\n}\r\n\r\nexport function* signInWithFacebook() {\r\n  yield takeEvery(SIGNIN_FACEBOOK_USER, signInUserWithFacebook);\r\n}\r\n\r\nexport function* signInWithTwitter() {\r\n  yield takeEvery(SIGNIN_TWITTER_USER, signInUserWithTwitter);\r\n}\r\n\r\nexport function* signInWithGithub() {\r\n  yield takeEvery(SIGNIN_GITHUB_USER, signInUserWithGithub);\r\n}\r\n\r\nexport function* signInUser() {\r\n  yield takeEvery(SIGNIN_USER, signInUserWithEmailPassword);\r\n}\r\n\r\nexport function* signOutUser() {\r\n  yield takeEvery(SIGNOUT_USER, signOut);\r\n}\r\n\r\nexport default function* rootSaga() {\r\n  yield all([fork(signInUser),\r\n    fork(createUserAccount),\r\n    fork(signInWithGoogle),\r\n    fork(signInWithFacebook),\r\n    fork(signInWithTwitter),\r\n    fork(signInWithGithub),\r\n    fork(signOutUser)]);\r\n}"]},"metadata":{},"sourceType":"module"}