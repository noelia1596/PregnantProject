{"ast":null,"code":"import _classCallCheck from \"C:\\\\Users\\\\Noelia\\\\Desktop\\\\Plantillas\\\\source\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\Noelia\\\\Desktop\\\\Plantillas\\\\source\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\Noelia\\\\Desktop\\\\Plantillas\\\\source\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\Noelia\\\\Desktop\\\\Plantillas\\\\source\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\Noelia\\\\Desktop\\\\Plantillas\\\\source\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _objectWithoutProperties from \"C:\\\\Users\\\\Noelia\\\\Desktop\\\\Plantillas\\\\source\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectWithoutProperties\";\nvar _jsxFileName = \"C:\\\\Users\\\\Noelia\\\\Desktop\\\\Plantillas\\\\source\\\\src\\\\containers\\\\App.js\";\nimport React, { Component } from 'react';\nimport { createMuiTheme, MuiThemeProvider } from '@material-ui/core/styles';\nimport MomentUtils from '@date-io/moment';\nimport { MuiPickersUtilsProvider } from 'material-ui-pickers';\nimport { Redirect, Route, Switch } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { IntlProvider } from 'react-intl';\nimport \"assets/vendors/style\";\nimport indigoTheme from './themes/indigoTheme';\nimport cyanTheme from './themes/cyanTheme';\nimport orangeTheme from './themes/orangeTheme';\nimport amberTheme from './themes/amberTheme';\nimport pinkTheme from './themes/pinkTheme';\nimport blueTheme from './themes/blueTheme';\nimport purpleTheme from './themes/purpleTheme';\nimport greenTheme from './themes/greenTheme';\nimport darkTheme from './themes/darkTheme';\nimport AppLocale from '../lngProvider';\nimport { AMBER, BLUE, CYAN, DARK_AMBER, DARK_BLUE, DARK_CYAN, DARK_DEEP_ORANGE, DARK_DEEP_PURPLE, DARK_GREEN, DARK_INDIGO, DARK_PINK, DEEP_ORANGE, DEEP_PURPLE, GREEN, INDIGO, PINK } from 'constants/ThemeColors';\nimport MainApp from 'app/index';\nimport SignIn from './SignIn';\nimport SignUp from './SignUp';\nimport { setInitUrl } from '../actions/Auth';\nimport RTL from 'util/RTL';\nimport asyncComponent from 'util/asyncComponent';\nvar USER_LOGGED_LOCAL_STORAGE = 'userLoggedLS';\nvar userLogged;\n/**\r\n * se usa para validar el usuario que ha entrado\r\n * @param {*} param0 \r\n */\n\nvar RestrictedRoute = function RestrictedRoute(_ref) {\n  var Component = _ref.component,\n      authUser = _ref.authUser,\n      rest = _objectWithoutProperties(_ref, [\"component\", \"authUser\"]);\n\n  return React.createElement(Route, Object.assign({}, rest, {\n    render: function render(props) {\n      return authUser || userLogged //si tiene el authUser o el token, entonces sigue esta logic, y abajo **\n      ? React.createElement(Component, Object.assign({}, props, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55\n        },\n        __self: this\n      })) : React.createElement(Redirect, {\n        to: {\n          pathname: '/signin',\n          state: {\n            from: props.location\n          }\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56\n        },\n        __self: this\n      });\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51\n    },\n    __self: this\n  }));\n};\n\nvar App =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(App, _Component);\n\n  function App() {\n    _classCallCheck(this, App);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(App).apply(this, arguments));\n  }\n\n  _createClass(App, [{\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      window.__MUI_USE_NEXT_TYPOGRAPHY_VARIANTS__ = true;\n\n      if (this.props.initURL === '') {\n        this.props.setInitUrl(this.props.history.location.pathname);\n      }\n    }\n  }, {\n    key: \"getColorTheme\",\n    value: function getColorTheme(themeColor, applyTheme) {\n      switch (themeColor) {\n        case INDIGO:\n          {\n            applyTheme = createMuiTheme(indigoTheme);\n            break;\n          }\n\n        case CYAN:\n          {\n            applyTheme = createMuiTheme(cyanTheme);\n            break;\n          }\n\n        case AMBER:\n          {\n            applyTheme = createMuiTheme(amberTheme);\n            break;\n          }\n\n        case DEEP_ORANGE:\n          {\n            applyTheme = createMuiTheme(orangeTheme);\n            break;\n          }\n\n        case PINK:\n          {\n            applyTheme = createMuiTheme(pinkTheme);\n            break;\n          }\n\n        case BLUE:\n          {\n            applyTheme = createMuiTheme(blueTheme);\n            break;\n          }\n\n        case DEEP_PURPLE:\n          {\n            applyTheme = createMuiTheme(purpleTheme);\n            break;\n          }\n\n        case GREEN:\n          {\n            applyTheme = createMuiTheme(greenTheme);\n            break;\n          }\n\n        case DARK_INDIGO:\n          {\n            applyTheme = createMuiTheme(indigoTheme);\n            break;\n          }\n\n        case DARK_CYAN:\n          {\n            applyTheme = createMuiTheme(cyanTheme);\n            break;\n          }\n\n        case DARK_AMBER:\n          {\n            applyTheme = createMuiTheme(amberTheme);\n            break;\n          }\n\n        case DARK_DEEP_ORANGE:\n          {\n            applyTheme = createMuiTheme(orangeTheme);\n            break;\n          }\n\n        case DARK_PINK:\n          {\n            applyTheme = createMuiTheme(pinkTheme);\n            break;\n          }\n\n        case DARK_BLUE:\n          {\n            applyTheme = createMuiTheme(blueTheme);\n            break;\n          }\n\n        case DARK_DEEP_PURPLE:\n          {\n            applyTheme = createMuiTheme(purpleTheme);\n            break;\n          }\n\n        case DARK_GREEN:\n          {\n            applyTheme = createMuiTheme(greenTheme);\n            break;\n          }\n\n        default:\n          createMuiTheme(indigoTheme);\n      }\n\n      return applyTheme;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          match = _this$props.match,\n          location = _this$props.location,\n          themeColor = _this$props.themeColor,\n          isDarkTheme = _this$props.isDarkTheme,\n          locale = _this$props.locale,\n          authUser = _this$props.authUser,\n          initURL = _this$props.initURL,\n          isDirectionRTL = _this$props.isDirectionRTL;\n      var applyTheme = createMuiTheme(indigoTheme);\n\n      if (isDarkTheme) {\n        document.body.classList.add('dark-theme');\n        applyTheme = createMuiTheme(darkTheme);\n      } else {\n        applyTheme = this.getColorTheme(themeColor, applyTheme);\n      }\n\n      if (location.pathname === '/') {\n        if (\n        /*(authUser === null) {\r\n        return ( <Redirect to={'/signin'}/> );\r\n        } else if*/\n        initURL === '' || initURL === '/' || initURL === '/signin') {\n          return React.createElement(Redirect, {\n            to: '/app/dashboard/crypto',\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 157\n            },\n            __self: this\n          });\n        } else {\n          return React.createElement(Redirect, {\n            to: initURL,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 159\n            },\n            __self: this\n          });\n        }\n      }\n\n      if (isDirectionRTL) {\n        applyTheme.direction = 'rtl';\n        document.body.classList.add('rtl');\n      } else {\n        document.body.classList.remove('rtl');\n        applyTheme.direction = 'ltr';\n      }\n\n      var currentAppLocale = AppLocale[locale.locale];\n      var userFromProps = location.userLogged; //console.log('userLogged',userFromProps);\n\n      var userInLocalStorage = JSON.parse(localStorage.getItem(USER_LOGGED_LOCAL_STORAGE));\n      console.log('userInLocalStorage', userInLocalStorage);\n      /*  Este if hace que cuando nos metemos con el login o registro, guarda el token de la persona en el ls*/\n\n      if (userFromProps) {\n        //console.log('hay token')\n        userLogged = userFromProps; //guardamos en userLogged, el usuario que nos llega por propiedades\n\n        var parseUser = JSON.stringify(userLogged);\n        localStorage.setItem(USER_LOGGED_LOCAL_STORAGE, parseUser);\n      } else if (userInLocalStorage) {\n        /*cuando queremos pasar de una pag a otra, coge el user que hay guardado en el locaStorage,\r\n        */\n        //console.log('tenemos userInLocalStorage', userInLocalStorage);\n        userLogged = userInLocalStorage;\n      } else {\n        //console.log('no hay token', location)\n        userLogged = '';\n      }\n\n      return React.createElement(MuiThemeProvider, {\n        theme: applyTheme,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 195\n        },\n        __self: this\n      }, React.createElement(MuiPickersUtilsProvider, {\n        utils: MomentUtils,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 196\n        },\n        __self: this\n      }, React.createElement(IntlProvider, {\n        locale: currentAppLocale.locale,\n        messages: currentAppLocale.messages,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 197\n        },\n        __self: this\n      }, React.createElement(RTL, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 200\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"app-main\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 201\n        },\n        __self: this\n      }, React.createElement(Switch, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 202\n        },\n        __self: this\n      }, React.createElement(RestrictedRoute, {\n        path: \"\".concat(match.url, \"app\"),\n        authUser: authUser,\n        component: MainApp,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 203\n        },\n        __self: this\n      }), React.createElement(Route, {\n        path: \"/signin\",\n        component: SignIn,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 205\n        },\n        __self: this\n      }), React.createElement(Route, {\n        path: \"/signup\",\n        component: SignUp,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 206\n        },\n        __self: this\n      }), React.createElement(Route, {\n        component: asyncComponent(function () {\n          return import('app/routes/extraPages/routes/404');\n        }),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 207\n        },\n        __self: this\n      })))))));\n    }\n  }]);\n\n  return App;\n}(Component);\n\nvar mapStateToProps = function mapStateToProps(_ref2) {\n  var settings = _ref2.settings,\n      auth = _ref2.auth;\n  var themeColor = settings.themeColor,\n      sideNavColor = settings.sideNavColor,\n      darkTheme = settings.darkTheme,\n      locale = settings.locale,\n      isDirectionRTL = settings.isDirectionRTL;\n  var authUser = auth.authUser,\n      initURL = auth.initURL;\n  return {\n    themeColor: themeColor,\n    sideNavColor: sideNavColor,\n    isDarkTheme: darkTheme,\n    locale: locale,\n    isDirectionRTL: isDirectionRTL,\n    authUser: authUser,\n    initURL: initURL\n  };\n};\n\nexport default connect(mapStateToProps, {\n  setInitUrl: setInitUrl\n})(App);","map":{"version":3,"sources":["C:\\Users\\Noelia\\Desktop\\Plantillas\\source\\src\\containers\\App.js"],"names":["React","Component","createMuiTheme","MuiThemeProvider","MomentUtils","MuiPickersUtilsProvider","Redirect","Route","Switch","connect","IntlProvider","indigoTheme","cyanTheme","orangeTheme","amberTheme","pinkTheme","blueTheme","purpleTheme","greenTheme","darkTheme","AppLocale","AMBER","BLUE","CYAN","DARK_AMBER","DARK_BLUE","DARK_CYAN","DARK_DEEP_ORANGE","DARK_DEEP_PURPLE","DARK_GREEN","DARK_INDIGO","DARK_PINK","DEEP_ORANGE","DEEP_PURPLE","GREEN","INDIGO","PINK","MainApp","SignIn","SignUp","setInitUrl","RTL","asyncComponent","USER_LOGGED_LOCAL_STORAGE","userLogged","RestrictedRoute","component","authUser","rest","props","pathname","state","from","location","App","window","__MUI_USE_NEXT_TYPOGRAPHY_VARIANTS__","initURL","history","themeColor","applyTheme","match","isDarkTheme","locale","isDirectionRTL","document","body","classList","add","getColorTheme","direction","remove","currentAppLocale","userFromProps","userInLocalStorage","JSON","parse","localStorage","getItem","console","log","parseUser","stringify","setItem","messages","url","mapStateToProps","settings","auth","sideNavColor"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\r\nimport {createMuiTheme, MuiThemeProvider} from '@material-ui/core/styles';\r\nimport MomentUtils from '@date-io/moment';\r\nimport {MuiPickersUtilsProvider} from 'material-ui-pickers';\r\nimport {Redirect, Route, Switch} from 'react-router-dom';\r\nimport {connect} from 'react-redux';\r\nimport {IntlProvider} from 'react-intl'\r\nimport \"assets/vendors/style\"\r\nimport indigoTheme from './themes/indigoTheme';\r\nimport cyanTheme from './themes/cyanTheme';\r\nimport orangeTheme from './themes/orangeTheme';\r\nimport amberTheme from './themes/amberTheme';\r\nimport pinkTheme from './themes/pinkTheme';\r\nimport blueTheme from './themes/blueTheme';\r\nimport purpleTheme from './themes/purpleTheme';\r\nimport greenTheme from './themes/greenTheme';\r\nimport darkTheme from './themes/darkTheme';\r\nimport AppLocale from '../lngProvider';\r\nimport {\r\n  AMBER,\r\n  BLUE,\r\n  CYAN,\r\n  DARK_AMBER,\r\n  DARK_BLUE,\r\n  DARK_CYAN,\r\n  DARK_DEEP_ORANGE,\r\n  DARK_DEEP_PURPLE,\r\n  DARK_GREEN,\r\n  DARK_INDIGO,\r\n  DARK_PINK,\r\n  DEEP_ORANGE,\r\n  DEEP_PURPLE,\r\n  GREEN,\r\n  INDIGO,\r\n  PINK\r\n} from 'constants/ThemeColors';\r\n\r\nimport MainApp from 'app/index';\r\nimport SignIn from './SignIn';\r\nimport SignUp from './SignUp';\r\nimport {setInitUrl} from '../actions/Auth';\r\nimport RTL from 'util/RTL';\r\nimport asyncComponent from 'util/asyncComponent';\r\nconst USER_LOGGED_LOCAL_STORAGE = 'userLoggedLS';\r\nlet userLogged;\r\n/**\r\n * se usa para validar el usuario que ha entrado\r\n * @param {*} param0 \r\n */\r\nconst RestrictedRoute = ({component: Component, authUser, ...rest}) =>\r\n  <Route\r\n    {...rest}\r\n    render={props =>\r\n      authUser||userLogged //si tiene el authUser o el token, entonces sigue esta logic, y abajo **\r\n        ? <Component {...props} />\r\n        : <Redirect\r\n          to={{\r\n            pathname: '/signin',\r\n            state: {from: props.location}\r\n          }}\r\n        />}\r\n  />;\r\n\r\nclass App extends Component {\r\n\r\n  componentWillMount() {\r\n    window.__MUI_USE_NEXT_TYPOGRAPHY_VARIANTS__ = true;\r\n    if (this.props.initURL === '') {\r\n      this.props.setInitUrl(this.props.history.location.pathname);\r\n    }\r\n  }\r\n\r\n  getColorTheme(themeColor, applyTheme) {\r\n    switch (themeColor) {\r\n      case INDIGO: {\r\n        applyTheme = createMuiTheme(indigoTheme);\r\n        break;\r\n      }\r\n      case CYAN: {\r\n        applyTheme = createMuiTheme(cyanTheme);\r\n        break;\r\n      }\r\n      case AMBER: {\r\n        applyTheme = createMuiTheme(amberTheme);\r\n        break;\r\n      }\r\n      case DEEP_ORANGE: {\r\n        applyTheme = createMuiTheme(orangeTheme);\r\n        break;\r\n      }\r\n      case PINK: {\r\n        applyTheme = createMuiTheme(pinkTheme);\r\n        break;\r\n      }\r\n      case BLUE: {\r\n        applyTheme = createMuiTheme(blueTheme);\r\n        break;\r\n      }\r\n      case DEEP_PURPLE: {\r\n        applyTheme = createMuiTheme(purpleTheme);\r\n        break;\r\n      }\r\n      case GREEN: {\r\n        applyTheme = createMuiTheme(greenTheme);\r\n        break;\r\n      }\r\n      case DARK_INDIGO: {\r\n        applyTheme = createMuiTheme(indigoTheme);\r\n        break;\r\n      }\r\n      case DARK_CYAN: {\r\n        applyTheme = createMuiTheme(cyanTheme);\r\n        break;\r\n      }\r\n      case DARK_AMBER: {\r\n        applyTheme = createMuiTheme(amberTheme);\r\n        break;\r\n      }\r\n      case DARK_DEEP_ORANGE: {\r\n        applyTheme = createMuiTheme(orangeTheme);\r\n        break;\r\n      }\r\n      case DARK_PINK: {\r\n        applyTheme = createMuiTheme(pinkTheme);\r\n        break;\r\n      }\r\n      case DARK_BLUE: {\r\n        applyTheme = createMuiTheme(blueTheme);\r\n        break;\r\n      }\r\n      case DARK_DEEP_PURPLE: {\r\n        applyTheme = createMuiTheme(purpleTheme);\r\n        break;\r\n      }\r\n      case DARK_GREEN: {\r\n        applyTheme = createMuiTheme(greenTheme);\r\n        break;\r\n      }\r\n      default : createMuiTheme(indigoTheme);\r\n    }\r\n    return applyTheme;\r\n  }\r\n\r\n  render() {\r\n    const {match, location, themeColor, isDarkTheme, locale, authUser, initURL, isDirectionRTL} = this.props;\r\n    let applyTheme = createMuiTheme(indigoTheme);\r\n    if (isDarkTheme) {\r\n      document.body.classList.add('dark-theme');\r\n      applyTheme = createMuiTheme(darkTheme)\r\n    } else {\r\n      applyTheme = this.getColorTheme(themeColor, applyTheme);\r\n    }\r\n    if (location.pathname === '/') {\r\n      if /*(authUser === null) {\r\n        return ( <Redirect to={'/signin'}/> );\r\n      } else if*/ (initURL === '' || initURL === '/' || initURL === '/signin') {\r\n        return ( <Redirect to={'/app/dashboard/crypto'}/> );\r\n      } else {\r\n        return ( <Redirect to={initURL}/> );\r\n      }\r\n    }\r\n    if (isDirectionRTL) {\r\n      applyTheme.direction = 'rtl';\r\n      document.body.classList.add('rtl')\r\n    } else {\r\n      document.body.classList.remove('rtl');\r\n      applyTheme.direction = 'ltr';\r\n    }\r\n\r\n    const currentAppLocale = AppLocale[locale.locale];\r\n    let userFromProps = location.userLogged;\r\n    //console.log('userLogged',userFromProps);\r\n\r\n    let userInLocalStorage = JSON.parse(localStorage.getItem(USER_LOGGED_LOCAL_STORAGE));\r\n    console.log('userInLocalStorage',userInLocalStorage);\r\n    \r\n    /*  Este if hace que cuando nos metemos con el login o registro, guarda el token de la persona en el ls*/\r\n    if(userFromProps){\r\n      //console.log('hay token')\r\n      userLogged=userFromProps;//guardamos en userLogged, el usuario que nos llega por propiedades\r\n      let parseUser = JSON.stringify(userLogged);\r\n      localStorage.setItem(USER_LOGGED_LOCAL_STORAGE, parseUser);\r\n\r\n    }else if (userInLocalStorage){\r\n      /*cuando queremos pasar de una pag a otra, coge el user que hay guardado en el locaStorage,\r\n      */\r\n      //console.log('tenemos userInLocalStorage', userInLocalStorage);\r\n      userLogged = userInLocalStorage;\r\n    } else{\r\n      //console.log('no hay token', location)\r\n      userLogged='';\r\n    }\r\n\r\n    return (\r\n      <MuiThemeProvider theme={applyTheme}>\r\n        <MuiPickersUtilsProvider utils={MomentUtils}>\r\n          <IntlProvider\r\n            locale={currentAppLocale.locale}\r\n            messages={currentAppLocale.messages}>\r\n            <RTL>\r\n              <div className=\"app-main\">\r\n                <Switch>\r\n                  <RestrictedRoute path={`${match.url}app`} authUser={authUser} \r\n                                   component={MainApp}/>\r\n                  <Route path='/signin' component={SignIn}/>\r\n                  <Route path='/signup' component={SignUp}/>\r\n                  <Route\r\n                    component={asyncComponent(() => import('app/routes/extraPages/routes/404'))}/>\r\n                </Switch>\r\n              </div>\r\n            </RTL>\r\n          </IntlProvider>\r\n        </MuiPickersUtilsProvider>\r\n      </MuiThemeProvider>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = ({settings, auth}) => {\r\n  const {themeColor, sideNavColor, darkTheme, locale, isDirectionRTL} = settings;\r\n  const {authUser, initURL} = auth;\r\n  return {themeColor, sideNavColor, isDarkTheme: darkTheme, locale, isDirectionRTL, authUser, initURL}\r\n};\r\n\r\nexport default connect(mapStateToProps, {setInitUrl})(App);\r\n"]},"metadata":{},"sourceType":"module"}